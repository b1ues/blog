<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简单理解JavaScript中的深浅拷贝 | 蓝远城的个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vuepress/favicon.ico">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="Just playing around">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.9451e786.css" as="style"><link rel="preload" href="/assets/js/app.e7241c81.js" as="script"><link rel="preload" href="/assets/js/3.4d28882f.js" as="script"><link rel="preload" href="/assets/js/1.d8fe3d7f.js" as="script"><link rel="preload" href="/assets/js/8.fb3c0416.js" as="script"><link rel="prefetch" href="/assets/js/10.8cb5aaa3.js"><link rel="prefetch" href="/assets/js/11.c4c262c5.js"><link rel="prefetch" href="/assets/js/4.8f241652.js"><link rel="prefetch" href="/assets/js/5.673e7d04.js"><link rel="prefetch" href="/assets/js/6.d3becae5.js"><link rel="prefetch" href="/assets/js/7.4bed939e.js"><link rel="prefetch" href="/assets/js/9.22661a3e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9451e786.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>蓝远城的个人博客</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>Just playing around</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>蓝某人~</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/homePage/avatar.jpg" alt="蓝远城的个人博客" class="logo"> <span class="site-name">蓝远城的个人博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/homePage/avatar.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    蓝某人~
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>1</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>2</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>简单理解JavaScript中的深浅拷贝</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>蓝某人~</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">简单理解JavaScript中的深浅拷贝</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>蓝某人~</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>4/5/2021</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>JavaScript</span><span class="tag-item" data-v-1ff7123e>深浅拷贝</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="什么是深浅拷贝"><a href="#什么是深浅拷贝" class="header-anchor">#</a> 什么是深浅拷贝？</h2> <p>先走一波代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'a'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'b'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// b</span>
</code></pre></div><p><img src="data:image/jpeg;base64,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" alt="An image"></p> <p>在控制台输入上面的代码，可以发现打印出来的a.name是b。</p> <p>从上面的例子中我们可以发现，如果给一个变量赋值一个对象，那么两者的值会是同一个引用，其中一方改变，另一方也会相应改变，这显然不是我们想要的结果。
在开发中，我们希望a与b是独立开的，这时候我们可以用浅拷贝来初步解决这个问题。</p> <h2 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h2> <p>首先我们可以用Object.assign()来解决上面的例子的问题。</p> <div class="custom-block tip"><p class="title"></p><h3 id="object-assign-是啥"><a href="#object-assign-是啥" class="header-anchor">#</a> Object.assign()是啥？</h3> <p>Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。
Object.assign(target, ...sources)    【target：目标对象】，【souce：源对象（可多个）】</p> <p>举个栗子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> object2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> object1<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object2<span class="token punctuation">.</span>c<span class="token punctuation">,</span> object2<span class="token punctuation">.</span>d<span class="token punctuation">)</span>  <span class="token comment">//3 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span>  <span class="token comment">// { a: 1, b: 2, c: 3 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object2<span class="token punctuation">)</span>  <span class="token comment">// { c: 3, d: 5, a: 1, b: 2 }</span>
</code></pre></div></div><div class="custom-block warning"><p class="title"></p><h3 id="注意"><a href="#注意" class="header-anchor">#</a> 注意：</h3> <p>1.如果目标对象中的属性具有相同的键，则属性将被源对象中的属性覆盖。后面的源对象的属性将类似地覆盖前面的源对象的属性。</p> <p>2.Object.assign 方法只会拷贝源对象自身的并且可枚举的属性到目标对象。该方法使用源对象的[[Get]]和目标
对象的[[Set]]，所以它会调用相关 getter 和 setter。因此，它分配属性，而不仅仅是复制或定义新的属性。如
果合并源包含getter，这可能使其不适合将新属性合并到原型中。为了将属性定义（包括其可枚举性）复制到
原型，应使用Object.getOwnPropertyDescriptor()和Object.defineProperty() 。</p></div><p>现在用<code>Object.assign()</code>来解决刚刚那个问题</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'a'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'b'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// a</span>
</code></pre></div><p>另外，我们也可以通过ES6的展开运算符(...)来解决这个问题</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'a'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>a<span class="token punctuation">}</span>
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'b'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// a</span>
</code></pre></div><p>一般来说浅拷贝能解决大部分的问题，但是遇到下面这种情况，浅拷贝就不得劲了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
    days<span class="token operator">:</span> <span class="token punctuation">{</span>
        one<span class="token operator">:</span> <span class="token string">'aDay'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>a<span class="token punctuation">}</span>
b<span class="token punctuation">.</span>days<span class="token punctuation">.</span>one <span class="token operator">=</span> <span class="token string">'bDay'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>days<span class="token punctuation">.</span>one<span class="token punctuation">)</span> <span class="token comment">// bDay</span>
</code></pre></div><p>所以说浅拷贝解决的只是第一层的问题，如果对象中的值还有对象，就又回到了刚刚开始的那个问题了（搁这玩俄罗斯套娃呢），两者共享相同的引用。
要彻底解决这个拷贝的问题就需要引入深拷贝了。</p> <h2 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h2> <p>深拷贝的一种办法就是把对象转成字符串再转成对象，就是<code>JSON.parse(JSON.stringify(object))</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
    days<span class="token operator">:</span> <span class="token punctuation">{</span>
        one<span class="token operator">:</span> <span class="token string">'aDay'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>days<span class="token punctuation">.</span>one <span class="token operator">=</span> <span class="token string">'bDay'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>days<span class="token punctuation">.</span>one<span class="token punctuation">)</span> <span class="token comment">// aDay</span>
</code></pre></div><p>但是这种方法有一定的局限性：</p> <ul><li>会忽略<code>undefined</code></li> <li>会忽略<code>symbol</code></li> <li>不能正常复制函数</li> <li>不能解决循环引用的对象</li></ul> <p>什么是不能解决循环引用的对象，举个栗子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token punctuation">{</span>
    c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    d<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>c <span class="token operator">=</span> obj<span class="token punctuation">.</span>b
obj<span class="token punctuation">.</span>e <span class="token operator">=</span> obj<span class="token punctuation">.</span>a
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> obj<span class="token punctuation">.</span>c
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>d <span class="token operator">=</span> obj<span class="token punctuation">.</span>b
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>e <span class="token operator">=</span> obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>
</code></pre></div><p>发现控制台报错了！</p> <p><img src="data:image/jpeg;base64,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" alt="An image"></p> <p>在遇到函数、 undefined 或者 symbol 的时候，也不能正常复制，举个栗子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">c</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    d<span class="token operator">:</span> <span class="token string">'lyc'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// {d: 'lyc'}</span>
</code></pre></div><h2 id="遍历对象实现深拷贝"><a href="#遍历对象实现深拷贝" class="header-anchor">#</a> 遍历对象实现深拷贝</h2> <p>讲这么多，有没有可以复制函数、 undefined 或者 symbol 的深拷贝方法？</p> <p>那必须有，上代码！</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/3.95023575.jpg" alt="An image"></p> <p>问题得以解决！</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/JavaScript/copy/copy.html#什么是深浅拷贝" class="sidebar-link reco-side-什么是深浅拷贝" data-v-70334359>什么是深浅拷贝？</a></li><li class="level-2" data-v-70334359><a href="/JavaScript/copy/copy.html#浅拷贝" class="sidebar-link reco-side-浅拷贝" data-v-70334359>浅拷贝</a></li><li class="level-3" data-v-70334359><a href="/JavaScript/copy/copy.html#object-assign-是啥" class="sidebar-link reco-side-object-assign-是啥" data-v-70334359>Object.assign()是啥？</a></li><li class="level-3" data-v-70334359><a href="/JavaScript/copy/copy.html#注意" class="sidebar-link reco-side-注意" data-v-70334359>注意：</a></li><li class="level-2" data-v-70334359><a href="/JavaScript/copy/copy.html#深拷贝" class="sidebar-link reco-side-深拷贝" data-v-70334359>深拷贝</a></li><li class="level-2" data-v-70334359><a href="/JavaScript/copy/copy.html#遍历对象实现深拷贝" class="sidebar-link reco-side-遍历对象实现深拷贝" data-v-70334359>遍历对象实现深拷贝</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><APlayer audio="" fixed="true" mini="true" autoplay="autoplay" theme="#282c34" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div class="kanbanniang" data-v-ee8d62e6><div class="banniang-container" style="display:;" data-v-ee8d62e6><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-ee8d62e6>
      欢迎来到 蓝远城的个人博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-ee8d62e6><i class="kbnfont kbn-ban-home ban-home" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-message message" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-close close" data-v-ee8d62e6></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-ee8d62e6><i class="kbnfont kbn-ban-info info" data-v-ee8d62e6></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-ee8d62e6></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="position:fixed;right:65px;bottom:0px;z-index:99999;pointer-events:none;" data-v-ee8d62e6></canvas></div> <div class="showBanNiang" style="display:none;" data-v-ee8d62e6>
    看板娘
  </div></div></div></div>
    <script src="/assets/js/app.e7241c81.js" defer></script><script src="/assets/js/3.4d28882f.js" defer></script><script src="/assets/js/1.d8fe3d7f.js" defer></script><script src="/assets/js/8.fb3c0416.js" defer></script>
  </body>
</html>
